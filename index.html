<!DOCTYPE html>
<head>
<script src = "js/jquery-2.1.3.min.js"></script>
<script src = "js/jquery-ui.js"></script>
<script src = "js/jquery.js"></script>
<script src = "js/jquery-ui.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>

<title> Depressing Website </title>

</head>
<body>

<p id = "press-me" style = "position: relative; margin-top: 20%; cursor: pointer"> Press me </p>

<p id = "p2"> This has been clicked <b><span id = "clicker-counter">0</span></b> times.</p>

<p id = "p3"> The <b><span id = "visitor-counter">0</span></b> people who have visited probably did that... <i>not me</i>. 
</p>

</body>
<style>
p {
	text-align: center;
}
</style>

<script src="https://www.gstatic.com/firebasejs/3.2.1/firebase.js"></script>

    
<script>

  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBd9tqOHSw6P5XHdsK0Bw-IlFAoED60Ur8",
    authDomain: "a-simple-counter.firebaseapp.com",
    databaseURL: "https://a-simple-counter.firebaseio.com",
    storageBucket: "a-simple-counter.appspot.com",
  };
  firebase.initializeApp(config);
//elements on page
	var click_counter_show = document.getElementById("clicker-counter");
	var visitor_counter_show = document.getElementById("visitor-counter");

$()

$('#p2, #p3').hide();



var myRef = firebase.database().ref("counters/counter");
var myVisitors = firebase.database().ref("counters/visitors");

myVisitors.transaction(function (current_value) { 
	return (current_value || 0) + 1;
});

$('#press-me').click(function() {
	//transaction for stuff
myRef.transaction(function (current_value) { 
	return (current_value || 0) + 1;
});

$('#p2').fadeIn();
setTimeout(function(){
$('#p3').fadeIn();
},1000);
});

myRef.on("value", function(snapshot){
 click_counter_show.innerHTML = snapshot.val();
})
myVisitors.on("value", function(snapshot){
 visitor_counter_show.innerHTML = snapshot.val();
})



</script>
</html>